
import java.net.*;
import java.io.*;

public class Klient {
	private Socket socket = null;
	private DataInputStream streamIn = null;
	private DataOutputStream streamOut = null;
	
	@SuppressWarnings("deprecation")
	public Klient(String serverName, int port){
		try{
			socket = new Socket(serverName, port);
			start();
		}catch(UnknownHostException uhe)
	      {  System.out.println("Host unknown: " + uhe.getMessage());
	      }
	      catch(IOException ioe)
	      {  System.out.println("Unexpected exception: " + ioe.getMessage());
	      }
		
		String line = "";
	      while (!line.equals(".bye"))
	      {  try
	         {  line = streamIn.readLine();
	            streamOut.writeUTF(line);
	            streamOut.flush();
	         }
	         catch(IOException ioe)
	         {  System.out.println("Sending error: " + ioe.getMessage());
	         }
	      }
		
	}
	public void start() throws IOException{
		streamIn = new DataInputStream(System.in);
		streamOut = new DataOutputStream(socket.getOutputStream());
	}
	public void stop(){
		try{
			if(streamIn != null) streamIn.close();
			if(streamOut != null) streamOut.close();
			if(socket != null) socket.close();
		}catch(IOException e){
			
		}
	}
	public static void main(String[] args){
		Klient client;
		client = new Klient("localhost", 5000);
	}
}
