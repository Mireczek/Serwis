import java.io.BufferedInputStream;
import java.io.DataInputStream;
import java.io.DataOutputStream;
import java.io.IOException;
import java.net.Socket;


public class ServerThread extends Thread {
	private Socket socket = null;
	private SerwerSerwis server = null;
	private int ID = -1;
	private DataInputStream datain;
	private DataOutputStream dataout;
	
	public ServerThread(SerwerSerwis serwerSerwis, Socket socket) {
		server = serwerSerwis;
		this.socket = socket;
		ID = socket.getPort();
	}
	public void run(){
		System.out.println("po³¹czono "+ ID);
		while(true){
			try{
				System.out.println(datain.readUTF());
			}catch(IOException e){
				
			}
		}
	}
	public void open() throws IOException{
		datain = new DataInputStream(new BufferedInputStream(socket.getInputStream()));
	}
	public void close() throws IOException{
		if (socket != null)    socket.close();
	    if (datain != null)  datain.close();
	}
	
}
