
import java.awt.BorderLayout;
import java.awt.Dimension;
import java.awt.FlowLayout;
import java.awt.ScrollPane;
import java.util.List;
import java.util.Vector;

import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JScrollBar;
import javax.swing.JScrollPane;
import javax.swing.JTable;
import javax.swing.JTextArea;


public class Panel extends JPanel{
	
	private static int wysokosc = 400;
	private static int szerokosc = 750;
	private static  List<String> lista = new Vector<String>() ;
	private static  JTable table;
	static JPanel panelmenu = new JPanel();
	private static JScrollPane scrollPane;
	      
	public Panel(){
		lista.add("3");
		lista.add("3");
		lista.add("3");
		lista.add("3");
		lista.add("3");
		lista.add("3");
		lista.add("3");
		setPreferredSize(new Dimension(szerokosc+10,wysokosc+30));
		NaPanel();
		panelmenu.setPreferredSize(new Dimension(szerokosc+10,wysokosc+20));
		
		add(panelmenu, BorderLayout.SOUTH);
	}
	private static void NaPanel(){
		
		//text = new JTextArea();

			
			
			String number=null;
			int i = 0;
				
			number = lista.get(0);
			System.out.println(number);
			lista.remove(0);
			int columnNumber = Integer.parseInt(number);
			
			String[] ColumnNames = new String[columnNumber];
			
			for(int j = 0; j<columnNumber;j++){
				ColumnNames[j] = lista.get(0);
				lista.remove(0);
			}
			String[][]Table = new String[lista.size()/columnNumber][columnNumber] ;
			int listLength = lista.size()/columnNumber;
			for(int j = 0; j<listLength;j++){
				System.out.println(listLength);
				for(i = 0; i< columnNumber;i++){
					Table[j][i] = lista.get(0);
					System.out.println(lista.get(0));
					lista.remove(0);
				}				
			}
			
			
			table = new JTable(Table, ColumnNames);
			scrollPane = new JScrollPane(table);
			scrollPane.setPreferredSize(new Dimension(szerokosc+10,wysokosc));
			scrollPane.createVerticalScrollBar();
			table.setPreferredSize(new Dimension(szerokosc,10*listLength));
			panelmenu.removeAll();
			
			panelmenu.add(scrollPane, BorderLayout.SOUTH);
			panelmenu.repaint();
			panelmenu.revalidate();

		
	}
	public static  void Wyswietl(List<String> Lista){
		lista  = Lista ;
		System.out.println(lista);
		NaPanel();

	}
	/*public void start() {
		   if(!running) {
				   th = new Thread(this);
				   th.start();
				   running = true;
		   }
	}
	 public void stop() {
		   running = false;
		   th.interrupt();
		    
 }
	@Override
	public void run() {
		
		System.out.println("244123543");
		if(running) {
			NaPanel();		
		}
	}*/
}
