
import java.awt.BorderLayout;
import java.awt.Dimension;
import java.awt.FlowLayout;
import java.util.List;
import java.util.Vector;

import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JTable;
import javax.swing.JTextArea;


public class Panel extends JPanel{
	
	private static int wysokosc = 400;
	private static int szerokosc = 700;
	private  List<String> lista = new Vector<String>() ;
	private  JTable table;
	
	
	public Panel(){
		lista.add("3");
		lista.add("3");
		lista.add("3");
		lista.add("3");
		lista.add("3");
		lista.add("3");
		lista.add("3");
		
		NaPanel();
	 
	}
	private void NaPanel(){
		setPreferredSize(new Dimension(szerokosc,wysokosc));
		//text = new JTextArea();

			
			
			String number=null;
			int i = 0;
			
			
				removeAll();
			number = lista.get(0);
			System.out.println("dziala");
			lista.remove(0);
			//text.setText("");
			int columnNumber = Integer.parseInt(number);
			
			String[] ColumnNames = new String[columnNumber];
			for(int j = 0; j<columnNumber;j++){
				ColumnNames[j] = lista.get(0);
				lista.remove(0);
			}
			String[][]Table = new String[lista.size()/columnNumber][columnNumber] ;
			
			for(int j = 0; j<=(lista.size()/columnNumber);j++){
				System.out.println(lista.size()/columnNumber);
				for(i = 0; i< columnNumber;i++){
					Table[j][i] = lista.get(0);
					//text.setText( text.getText() +" | "+ lista.get(0));
					lista.remove(0);
				}				
			}
			
		   
			table = new JTable(Table, ColumnNames);
			//text.setPreferredSize(new Dimension(szerokosc, wysokosc));
			table.setPreferredSize(new Dimension(szerokosc, wysokosc));
			Frame.glownyPanel.add(table, BorderLayout.CENTER);

			//add(text);
			//text.setEditable(false);

			JLabel name = new JLabel("Name: ");		
			add(name);
			revalidate();
			repaint();
		
	}
	public void Wyswietl(List<String> Lista){
		lista  = Lista ;
		System.out.println(lista);
		NaPanel();

	}
	/*public void start() {
		   if(!running) {
				   th = new Thread(this);
				   th.start();
				   running = true;
		   }
	}
	 public void stop() {
		   running = false;
		   th.interrupt();
		    
 }
	@Override
	public void run() {
		
		System.out.println("244123543");
		if(running) {
			NaPanel();		
		}
	}*/
}
